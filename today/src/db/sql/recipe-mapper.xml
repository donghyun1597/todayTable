<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>


<entry key="selectMainThumbnailList">
	SELECT
	      RECIPE_PIC
	    , RECIPE_NAME
	    , RECIPE_DIFFICULTY
	    , RECIPE_VIEWS
	FROM (SELECT
	           ROWNUM "RNUM"
	         , R.*
	        FROM 
	            (SELECT
	                  RECIPE_PIC
	                , RECIPE_NAME
	                , RECIPE_DIFFICULTY
	                , RECIPE_VIEWS
	            FROM 
	                TB_RECIPE
	            ORDER BY 
	                RECIPE_VIEWS DESC) "R")
	WHERE RNUM BETWEEN 1 AND 4
</entry>






<!-- 수민: 마이페이지_내가 만든 레시피 목록 조회-->
<entry key="selectThumbnailList">
	SELECT
	   RECIPE_NAME
	   , RECIPE_DATE
	   , RECIPE_VIEWS
	   , RECIPE_PIC
	FROM TB_RECIPE
	WHERE MEM_NO = ?
	AND RECIPE_STATUS = 'Y'
	ORDER BY RECIPE_NO DESC
</entry>


<!-- 수민: 마이페이지_내가 작성한 댓글 조회-->
<entry key="selectCommentList">
    SELECT
        COM_CONTENT
        , COM_DATE
        , RECIPE_NAME
        , RECIPE_PIC
        , RECIPE_VIEWS
    FROM TB_COMMENT
    JOIN TB_RECIPE USING (MEM_NO)
    WHERE MEM_NO = ?
    AND RECIPE_STATUS = 'Y'
	ORDER BY COM_DATE DESC
</entry>



<!-- 수민: 마이페이지_내가 찜한 목록 조회-->
<entry key="selectWishList">
	    SELECT
        RECIPE_NAME
        , RECIPE_PIC
        , RECIPE_VIEWS
    FROM TB_RECIPE
    JOIN TB_WISHLIST USING (MEM_NO)
    WHERE MEM_NO = ?
    AND RECIPE_STATUS = 'Y'
	ORDER BY RECIPE_DATE DESC
</entry>







	
	
	
<entry key="selectRecommnedRecipe">
	SELECT 
		  RECIPE_PIC
	    , RECIPE_NAME
	    , RECIPE_DIFFICULTY
	    , RECIPE_VIEWS
	FROM TB_RECIPE
	WHERE RECIPE_NO IN (SELECT RECIPE_NO
	                    FROM TB_CATEGORY
	                    JOIN TB_CATEGORY_INGREDIENT USING(C_INGRE_NO)
	                    JOIN TB_CATEGORY_NATION USING(C_NAT_NO)
	                    WHERE C_INGRE_NAME = ?
	                    OR C_NAT_NAME = ?
	                    UNION
	                    SELECT RECIPE_NO
	                    FROM TB_RECIPE
	                    WHERE RECIPE_PERSON =?)
</entry>















	
	
	
	
	
	
	
	
	
	
</properties>